---
// Footer component with copyright, disclaimer, and build info
const currentYear = new Date().getFullYear();
const buildDate = new Date().toLocaleDateString('en-US', { 
  day: 'numeric', 
  month: 'long', 
  year: 'numeric' 
});

const disclaimer = "The content and opinions expressed herein, while well-reasoned and insightful, are my own personal opinions and are not the views of my employer or others with whom I am affiliated.";

// In production, you might get commit info from environment variables or build process
const isDevelopment = import.meta.env.DEV;
const commitHash = import.meta.env.PUBLIC_COMMIT_HASH || 'dev-build';
const commitShort = commitHash.slice(0, 7);
---

<div class="flex flex-col mx-3 space-y-3 md:space-y-2 text-sm text-gray-700 dark:text-gray-300">
  <div class="font-semibold leading-4">
    Copyright &copy; 2008-{currentYear} Edward Jensen. All rights reserved.
  </div>
  
  <div class="leading-4 italic">
    <span class="uppercase">Disclaimer</span>: {disclaimer}
  </div>
  
  {isDevelopment ? (
    <div class="space-y-1">
      <div class="leading-4">
        This site is powered by 
        <a href="https://astro.build/" class="underline hover:text-gray-600 dark:hover:text-gray-200">
          Astro
        </a> 
        and was last updated {buildDate}.
      </div>
      <div class="uppercase text-blue-600 font-bold">
        local development edition
      </div>
    </div>
  ) : (
    <div class="leading-4">
      This site is powered by 
      <a href="https://astro.build/" class="underline hover:text-gray-600 dark:hover:text-gray-200">
        Astro
      </a> 
      and was last updated {buildDate} from commit 
      <a 
        href={`https://github.com/edwardjensen/edwardjensen-landing-page/commit/${commitHash}`}
        class="hover:text-gray-600 dark:hover:text-gray-200 hover:underline" 
        target="_blank"
      >
        {commitShort}
      </a>.
    </div>
  )}
</div>

